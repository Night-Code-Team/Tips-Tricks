# SSH-ключ

**SSH** - это протокол, который используется для взаимодействия компьютера с сервером и его управления.

**SSH-ключ** - это метод авторизации где вместо пары логин/пароль используется уникальный ключ.

**SSH-ключ** делится на:
- Открытый ключ - или публичный, доступный всем он используется для шифрования данных, при обращении к серверу. Его можно передавать третьим лицам так как без второго ключа он не имеет смысла.
- Закрытый ключ - или приватный, он расшифровывает данные. Его стоит хранить максимально осторожно и желательно в запароленном виде и ни в коем случае никому не передавать его.

Чтобы использовать ключи необходимо сначала на сервере дать разрешение пользователю авторизоваться по ssh-ключу, далее указать открытый ключ. Далее сервер отправит случайную фразу, которую пользователь зашифрует, после пользователь на основании ответа и открытого ключа сможет понять тот ли пользователь зашифровал сообщение. 

# Создание и использование

>[!info]  Windows
>Использовать ключи на windows не слишком сильно рекомендуется в виду не безопасности системы.

 1) Для создания ключа необходимо использовать строенную системную утилиту `ssh-keygen` 

Параметры:
- `-C` - комментарий, обычно требуют использовать почту 
- `-t` - тип ключа, обязательный параметр
- `-b` - размер ключа

После генерации в папке (обычно `~/.ssh` появится 2 файла ):
1) Закрытый ключ, если не указывали название, будет с названием кодировки 
2) Открытый ключ с расширением `.pub`

> [!info] Много ключей
> При использовании разных ключей для разных серверов рекомендуется соответственно переименовать оба файла не изменяя их расширения.

 2) Требуется обязательно установить права 700 или 600 на приватный ключ
```zsh
chmod 700 ~/way/to/private/key
```

 3) Теперь его нужно подключить в систему используя команду:

```zsh
ssh-add ~/way/to/private/key
```

4) На сервере подключаем **открытый** ключ к своему аккаунту. 
5) Пробуем подключение к серверу. 

У каждого сервера свой вариант подключения, например у **github**:
```zsh
ssh -T git@github.com
```

Рабочий ответ от сервера:
```shell
> Hi USERNAME! You've successfully authenticated, but GitHub does not provide shell access.
```

Готово!